<!DOCTYPE html>
<html>
<body>
  <h2>üß™ –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç</h2>
  <button onclick="test()">–¢–µ—Å—Ç API</button>
  <pre id="result" style="background:#f0f0f0;padding:10px;"></pre>
  
  <script src="phoenix.js"></script>
  <script>
  async function test() {
    const result = document.getElementById('result');
    result.textContent = '–¢–µ—Å—Ç–∏—Ä—É—é...\n';
    
    // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª–∞—Å—Å
    if (typeof PhoenixSearch === 'undefined') {
      result.textContent += '‚ùå PhoenixSearch –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω\n';
      return;
    }
    result.textContent += '‚úÖ –ö–ª–∞—Å—Å –∑–∞–≥—Ä—É–∂–µ–Ω\n';
    
    // 2. –¢–µ—Å—Ç–∏—Ä—É–µ–º API –Ω–∞–ø—Ä—è–º—É—é
    try {
      const response = await fetch('https://phoenix-search-prototype.vercel.app/api/search', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({query: '—Ç–µ—Å—Ç'})
      });
      
      result.textContent += `‚úÖ API —Å—Ç–∞—Ç—É—Å: ${response.status}\n`;
      
      const text = await response.text();
      result.textContent += `üì¶ –û—Ç–≤–µ—Ç: ${text.substring(0, 200)}...\n`;
      
    } catch (err) {
      result.textContent += `‚ùå –û—à–∏–±–∫–∞ API: ${err.message}\n`;
    }
    
    // 3. –¢–µ—Å—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å
    try {
      const phoenix = new PhoenixSearch();
      const searchResult = await phoenix.search('—Ç–µ—Å—Ç –∫–ª–∞—Å—Å–∞');
      
      result.textContent += `‚úÖ –ö–ª–∞—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç! –¢–∏–ø: ${searchResult.type}\n`;
      
    } catch (err) {
      result.textContent += `‚ùå –û—à–∏–±–∫–∞ –∫–ª–∞—Å—Å–∞: ${err.message}\n`;
    }
  }
  </script>
</body>
</html>
