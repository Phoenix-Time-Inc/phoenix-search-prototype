<!DOCTYPE html>
<html>
<head>
    <title>–¢–µ—Å—Ç API –§–µ–Ω–∏–∫—Å-–ü–æ–∏—Å–∫–∞</title>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º API</h1>
    
    <div>
        <input type="text" id="queryInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å..." style="padding: 10px; width: 300px;">
        <button onclick="testAPI()">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
    </div>
    
    <div id="result" style="margin-top: 20px; padding: 20px; background: #f0f0f0; border-radius: 10px;"></div>
    
    <script>
    async function testAPI() {
        const query = document.getElementById('queryInput').value || "–ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ—ë –ø—Ä–∏–∑–≤–∞–Ω–∏–µ?";
        const resultDiv = document.getElementById('result');
        
        resultDiv.innerHTML = '<p>üîÑ –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å...</p>';
        
        try {
            const response = await fetch('https://phoenix-search-prototype.vercel.app/api/search', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ query: query })
            });
            
            const data = await response.json();
            
            resultDiv.innerHTML = `
                <h3>‚úÖ –û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω!</h3>
                <p><strong>–ò—Å—Ç–æ—á–Ω–∏–∫:</strong> ${data.source || '–ª–æ–∫–∞–ª—å–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å'}</p>
                <p><strong>–°—É—Ç—å:</strong> ${data.response.essence}</p>
                <p><strong>–†–µ–∑–æ–Ω–∞–Ω—Å:</strong> ${data.response.resonance}</p>
                <p><strong>–ü—Ä–∞–∫—Ç–∏–∫–∞:</strong> ${data.response.step}</p>
                <p><strong>–¢–∏–ø:</strong> ${data.response.type}</p>
                <pre style="background: white; padding: 10px; overflow: auto;">
${JSON.stringify(data, null, 2)}
                </pre>
            `;
            
        } catch (error) {
            resultDiv.innerHTML = `
                <h3>‚ùå –û—à–∏–±–∫–∞!</h3>
                <p>${error.message}</p>
                <p>–ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å (F12) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.</p>
            `;
            console.error('–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∞ API:', error);
        }
    }
    
    // –ê–≤—Ç–æ—Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    setTimeout(testAPI, 1000);
    </script>
</body>
</html>

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
fetch('https://phoenix-search-prototype.vercel.app/api/search', {
  method: 'POST',
  body: JSON.stringify({query: '–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã'})
})
.then(r => r.json())
.then(data => {
  console.log('‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç:', data.success);
  console.log('üåç –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å:', data.collective?.peopleCount, '—á–µ–ª–æ–≤–µ–∫');
  console.log('ü¶Ö –ò—Å—Ç–æ—á–Ω–∏–∫:', data.source);
});
